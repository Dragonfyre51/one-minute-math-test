<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>One Minute Math Test</title>

  <!-- Bootstrap Core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom Fonts -->
  <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->

  <link href="css/styles.css" rel="stylesheet">

</head>

<body id="page-top" class="index">

  <!-- Navigation -->
  <nav id="mainNav" class="navbar navbar-default navbar-fixed-top navbar-custom">
    <div class="container">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header page-scroll">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
          <span class="sr-only">Toggle navigation</span> Menu <i class="fa fa-bars"></i>
        </button>
        <a class="navbar-brand" href="#page-top">One Minute Math Test</a>
      </div>
      <!-- /.navbar-collapse -->
    </div>
    <!-- /.container-fluid -->
  </nav>

  <!-- Portfolio Grid Section -->
  <section id="select">
    <div class="container">
      <div class="row">
          <div class="col-lg-12 text-center">
              <h2>Select your worksheet</h2>
              <hr class="star-primary">
          </div>
      </div>
      <div class="row">
        <div class="col-sm-6 text-center">
          <h3>Addition</h3>
          <div class="btn-group btn-group-justified" role="group" aria-label="...">
            <div class="btn-group" role="group">
              <div class="number-selection">
                <a href="#testingModal" class="btn btn-primary" data-toggle="modal" data-operation="addition" data-selection="1">1</a>
              </div>
              <div class="number-selection">
                <a href="#testingModal" class="btn btn-primary" data-toggle="modal" data-operation="addition" data-selection="2">2</a>
              </div>
              <div class="number-selection">
                <a href="#testingModal" class="btn btn-primary" data-toggle="modal" data-operation="addition" data-selection="3">3</a>
              </div>
              <div class="number-selection">
                <a href="#testingModal" class="btn btn-primary" data-toggle="modal" data-operation="addition" data-selection="4">4</a>
              </div>
              <div class="number-selection">
                <a href="#testingModal" class="btn btn-primary" data-toggle="modal" data-operation="addition" data-selection="5">5</a>
              </div>
            </div>
            <div class="btn-group" role="group">
              <div class="number-selection">
                <a href="#testingModal" class="btn btn-primary" data-toggle="modal" data-operation="addition" data-selection="6">6</a>
              </div>
              <div class="number-selection">
                <a href="#testingModal" class="btn btn-primary" data-toggle="modal" data-operation="addition" data-selection="7">7</a>
              </div>
              <div class="number-selection">
                <a href="#testingModal" class="btn btn-primary" data-toggle="modal" data-operation="addition" data-selection="8">8</a>
              </div>
              <div class="number-selection">
                <a href="#testingModal" class="btn btn-primary" data-toggle="modal" data-operation="addition" data-selection="9">9</a>
              </div>
              <div class="number-selection">
                <a href="#testingModal" class="btn btn-primary" data-toggle="modal" data-operation="addition" data-selection="10">10</a>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-6 text-center">
          <h3>Subtraction</h3>
          <div class="btn-group btn-group-justified" role="group" aria-label="...">
            <div class="btn-group" role="group">
              <div class="number-selection">
                <a href="#testingModal" class="btn btn-primary"  data-toggle="modal" data-operation="subtraction" data-selection="1">1</a>
              </div>
              <div class="number-selection">
                <a href="#testingModal" class="btn btn-primary"  data-toggle="modal" data-operation="subtraction" data-selection="2">2</a>
              </div>
              <div class="number-selection">
                <a href="#testingModal" class="btn btn-primary"  data-toggle="modal" data-operation="subtraction" data-selection="3">3</a>
              </div>
              <div class="number-selection">
                <a href="#testingModal" class="btn btn-primary"  data-toggle="modal" data-operation="subtraction" data-selection="4">4</a>
              </div>
              <div class="number-selection">
                <a href="#testingModal" class="btn btn-primary"  data-toggle="modal" data-operation="subtraction" data-selection="5">5</a>
              </div>
            </div>
            <div class="btn-group" role="group">
              <div class="number-selection">
                <a href="#testingModal" class="btn btn-primary"  data-toggle="modal" data-operation="subtraction" data-selection="6">6</a>
              </div>
              <div class="number-selection">
                <a href="#testingModal" class="btn btn-primary"  data-toggle="modal" data-operation="subtraction" data-selection="7">7</a>
              </div>
              <div class="number-selection">
                <a href="#testingModal" class="btn btn-primary"  data-toggle="modal" data-operation="subtraction" data-selection="8">8</a>
              </div>
              <div class="number-selection">
                <a href="#testingModal" class="btn btn-primary"  data-toggle="modal" data-operation="subtraction" data-selection="9">9</a>
              </div>
              <div class="number-selection">
                <a href="#testingModal" class="btn btn-primary"  data-toggle="modal" data-operation="subtraction" data-selection="10">10</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- Footer -->
  <footer class="text-center">
      <div class="footer-above">
          <div class="container">
              <div class="row">
                  <div class="footer-col col-md-4">
                      <h4>About One Minute Math Test</h4>
                      <p>One Minute Math Test is a free to use, open source website created by <a href="https://www.github.com/markwingerd/ommt">Mark Wingerd</a>.</p>
                  </div>
              </div>
          </div>
      </div>
      <div class="footer-below">
          <div class="container">
              <div class="row">
                  <div class="col-lg-12">
                      Copyright &copy; Mark Wingerd 2016
                  </div>
              </div>
          </div>
      </div>
  </footer>

  <!-- Modal -->
  <div class="testing-modal modal fade" id="testingModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-content">
      <div class="close-modal" data-dismiss="modal">
        <div class="lr">
          <div class="rl">
          </div>
        </div>
      </div>
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2">
            <div class="modal-body">
              <h2 class="modal-title"></h2>
              <hr class="star-primary">
              <div class="container">
                <div class="col-sm-4">
                <div id="problem-0" class="well">1</div>
                <div id="problem-1" class="well">2</div>
                <div id="problem-2" class="well">3</div>
                <div id="problem-3" class="well">4</div>
                <div id="problem-4" class="well">5</div>
                </div>
                <div class="col-sm-4">
                <div id="problem-5" class="well">1</div>
                <div id="problem-6" class="well">2</div>
                <div id="problem-7" class="well">3</div>
                <div id="problem-8" class="well">4</div>
                <div id="problem-9" class="well">5</div>
                </div>
                <div class="col-sm-4">
                <div id="problem-10" class="well">1</div>
                <div id="problem-11" class="well">2</div>
                <div id="problem-12" class="well">3</div>
                <div id="problem-13" class="well">4</div>
                <div id="problem-14" class="well">5</div>
                </div>
              </div>
              <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- jQuery -->
  <script src="vendor/jquery/jquery.min.js"></script>

  <!-- Bootstrap Core JavaScript -->
  <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

  <!-- Plugin JavaScript -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>


  <script>
    $('#testingModal').on('show.bs.modal', function (event) {
      var button = $(event.relatedTarget); // Button that triggered the modal
      var operation = button.data('operation');
      var operationText = operation === 'addition' ? 'Addition' : 'Subtraction';
      var selection = parseInt(button.data('selection')); // Extract info from data-* attributes
      var modal = $(this);
      var problems = generateProblems(operation, selection);
      modal.find('.modal-title').text(operationText + ': ' + selection);

      for (var i = 0; i < 15; i++) {
        $('#problem-' + i).html(generateProblemHtml(problems[i][0],problems[i][1],operation));
      }
    });

    function generateProblemHtml(a, b, operation) {
      o = operation == "addition" ? "+" : "-";
      html = " \
          <div class=\"row\"> \
            <div class=\"col-xs-2 col-xs-offset-6 text-right\"> \
              " + a + " \
            </div> \
          </div> \
          <div class=\"row\"> \
            <div class=\"col-xs-2 col-xs-offset-4\"> \
              " + o + " \
            </div> \
            <div class=\"col-xs-2 text-right\"> \
              " + b + " \
            </div> \
          </div> \
          <hr class=\"star-primary\"> \
          <div class=\"input-group col-xs-4 col-xs-offset-4\"> \
            <input type=\"text\" class=\"form-control text-right\" aria-describedby=\"answer\"> \
          </div> \
      ";
      return html;
    }

    //
    function generateProblems(operation, selection) {
      var problems = [];
      for (var i=0; i < 15; i++) {
        var randomNumber = Math.ceil(Math.random() * 10);
        if (operation == 'addition') {
          var a = randomNumber;
          var b = selection;
          var c = randomNumber + selection;
          problems.push(Math.random() < 0.5 ? [a,b,c] : [b,a,c]);
        } else {
          var a = randomNumber >= selection ? randomNumber : selection;
          var b = randomNumber >= selection ? selection : randomNumber;
          var c = a - b;
          problems.push([a,b,c]);
        }
      }
      return problems;
    }
  </script>

</body>

</html>
